import { useState } from 'react'
import { getSession, useSession } from "next-auth/react"
import Head from 'next/head'
import ClientLayout from '../components/layout/Client'
import WalletCard from '../components/home/WalletCard'
import OverviewCard from '../components/home/OverviewCards'
import DateRangePicker from '../components/home/DateRangePicker'
import DoughnutChart from '../components/charts/DoughnutChart'
import LineChart from '../components/charts/LineChart'
export default function Home({ session }) {

  var [hasData,setData] = useState(false)

  return (
    <ClientLayout>
      <div className='pt-4'>
        <Head>
          <title>Ewallet</title>
          <meta name="description" content="Generated by FaRiS and Ahmed" />
          <link rel="icon" href="/favicon.ico" />
        </Head>
        <h3>Wallets</h3>
        <div className='ps-3'>
          <WalletCard amount={3000} />
        </div>
        <div style={{ marginTop: '50px' }} className='row align-items-between justify-content-center pt-4'>
          <h3 className=' col-lg-6 col-md-6 col-sm-12 mb-4' style={{ marginRight: 'auto' }}>Overview</h3>
          <div className='col-lg-6 col-md-6 col-sm-12'>
            <DateRangePicker />
          </div>
        </div>
        <OverviewCard />
        {hasData ?  
        <div className='row'>
          <div className='col-lg-6 col-md-6 col-sm-12'>
            <DoughnutChart />
          </div>
          <div className='col-lg-6 col-md-6 col-sm-12'>
            <LineChart />
          </div>
        </div>
        :
        <div style={{width:'100%'}} className='text-center'>
            <img className='mb-2'  style={{opacity:'0.6'}} src='/icons/home/no_transaction.svg'/>
            <br/>
            <small style={{color:'#009DFF',opacity:'0.6'}}>You have no transactions yet</small>
        </div>
}
      </div>
    </ClientLayout>
  )
}


// export const getServerSideProps = async (ctx) => {
//   const session = await getSession(ctx)

//   if (session) {
//     return {
//       props: {
//         session
//       }
//     }
//   } else {
//     return {
//       redirect: {
//         destination: '/api/auth/signin'
//       },
//       props: {}
//     }
//   }

// }